port: 7890
socks-port: 7891
allow-lan: true
mode: Rule
log-level: info
external-controller: '127.0.0.1:9090'

proxy-providers:
#  Element:
#    type: http
#    url: 
#    interval: 3600
#    path: ./proxy_provider/Element.yaml
#    health-check:
#      enable: true
#      interval: 600
#      url: http://www.gstatic.com/generate_204
   Element:
     type: file
     path: ./profiles/1629803074424.yml
     health-check:
       enable: true
       interval: 600
       url: http://www.gstatic.com/generate_204
   FNF:
     type: file
     path: ./profiles/1629803102437.yml
     health-check:
       enable: true
       interval: 600
       url: http://www.gstatic.com/generate_204

proxy-groups:
  - name: FNF
    type: select
    use:
      - FNF
  - name: Element
    type: select
    use:
      - Element
  - name: PROXY
    type: select
    proxies:
      - FNF
      - Element
      - Fallback
  - name: Fallback
    type: fallback
    use:
      - FNF
    url: http://www.gstatic.com/generate_204
  - name: TELEGRAM
    type: select
    use:
      - Element
      - FNF
    proxies:
      - PROXY
  - name: Apple
    type: select
    proxies:
      - PROXY
      - DIRECT
  - name: Music
    type: select
    proxies:
      - PROXY
      - DIRECT
  - name: Netflix
    type: select
    use:
      - Element
      - FNF
  - name: Steam
    type: select
    proxies:
      - PROXY
      - DIRECT
  - name: MATCH
    type: select
    proxies:
      - DIRECT
      - PROXY
  - name: Streaming
    type: select
    proxies:
      - PROXY
rule-providers:
#此处所有的raw.githubusercontent.com全部替换为CDN加速地址raw.githubusercontents.com以供Clash可以更新（加了一个s）
  Apple Music:
    type: http
    behavior: classical
    path: ./RuleSet/Extra/Apple/Music.yaml
    url: https://raw.githubusercontents.com/DivineEngine/Profiles/master/Clash/RuleSet/Extra/Apple/Music.yaml
    interval: 86400
  Apple TV:
    type: http
    behavior: classical
    path: ./RuleSet/Extra/Apple/TV.yaml
    url: https://raw.githubusercontents.com/DivineEngine/Profiles/master/Clash/RuleSet/Extra/Apple/TV.yaml
    interval: 86400
  Steam:
    type: http
    behavior: classical
    path: ./RuleSet/Extra/Game/Steam.yaml
    url: https://raw.githubusercontents.com/DivineEngine/Profiles/master/Clash/RuleSet/Extra/Game/Steam.yaml
    interval: 86400
  TelegramSG:
    type: http
    behavior: classical
    path: ./RuleSet/Extra/Telegram/TelegramSG.yaml
    url: https://raw.githubusercontents.com/DivineEngine/Profiles/master/Clash/RuleSet/Extra/Telegram/TelegramSG.yaml
    interval: 86400
  Netflix:
    type: http
    behavior: classical
    path: ./RuleSet/StreamingMedia/Video/Netflix.yaml
    url: https://raw.githubusercontents.com/DivineEngine/Profiles/master/Clash/RuleSet/StreamingMedia/Video/Netflix.yaml
    interval: 86400
  Streaming:
    type: http
    behavior: classical
    path: ./RuleSet/StreamingMedia/Streaming.yaml
    url: https://raw.githubusercontents.com/DivineEngine/Profiles/master/Clash/RuleSet/StreamingMedia/Streaming.yaml
    interval: 86400
  Unbreak:
    type: http
    behavior: classical
    path: ./RuleSet/Unbreak.yaml
    url: https://raw.githubusercontents.com/DivineEngine/Profiles/master/Clash/RuleSet/Unbreak.yaml
    interval: 86400
  Global:
    type: http
    behavior: classical
    path: ./RuleSet/Global.yaml
    url: https://raw.githubusercontents.com/DivineEngine/Profiles/master/Clash/RuleSet/Global.yaml
    interval: 86400
  China:
    type: http
    behavior: classical
    path: ./RuleSet/China.yaml
    url: https://raw.githubusercontents.com/DivineEngine/Profiles/master/Clash/RuleSet/China.yaml
    interval: 86400
rules:
  - DOMAIN-SUFFIX,odysseyplus.site,PROXY
  - DOMAIN-SUFFIX,duanxinhongzhaji.com,PROXY
  - DOMAIN-SUFFIX,emby.wtf,DIRECT
  - DOMAIN-SUFFIX,steam-chat.com,PROXY
  - DOMAIN-SUFFIX,greasyfork.org,PROXY
  - DOMAIN-SUFFIX,v2ex.com,PROXY
  - RULE-SET,Netflix,Netflix
  - RULE-SET,Apple Music,Music
  - RULE-SET,Apple TV,Apple
  - RULE-SET,Steam,Steam
  - RULE-SET,Unbreak,DIRECT
  - RULE-SET,TelegramSG,TELEGRAM
  - RULE-SET,Streaming,Streaming

##iTunes的iCloud验证
  - DOMAIN,ld-3.itunes.apple.com,Apple


  - RULE-SET,Global,PROXY
  - RULE-SET,China,DIRECT
  - IP-CIDR,192.168.0.0/16,DIRECT
  - IP-CIDR,10.0.0.0/8,DIRECT
  - IP-CIDR,172.16.0.0/12,DIRECT
  - IP-CIDR,127.0.0.0/8,DIRECT
  - IP-CIDR,100.64.0.0/10,DIRECT
  - IP-CIDR,224.0.0.0/4,DIRECT
  - IP-CIDR,fe80::/10,DIRECT
  - GEOIP,CN,DIRECT
  - MATCH,MATCH


